var l=!1,m={extend:function(){var a,f,k={};for(a in arguments)if(arguments.hasOwnProperty(a)&&"object"===typeof arguments[a])for(f in arguments[a])arguments[a].hasOwnProperty(f)&&(k[f]=arguments[a][f]);return k},G:function(a){return a.split("").reverse().join("")}},r={AL:"Albania",AD:"Andorra",AT:"Austria",BY:"Belarus",BE:"Belgium",BA:"Bosnia and Herzegovina",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FO:"Faroe Islands",FI:"Finland",FR:"France",DE:"Germany",
GI:"Gibraltar",GR:"Greece",HU:"Hungary",IS:"Iceland",IE:"Ireland",IM:"Isle of Man",IT:"Italy",RS:"Yugoslavia",LV:"Latvia",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MK:"Macedonia",MT:"Malta",MD:"Moldova",MC:"Monaco",ME:"Montenegro",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",RU:"Russia",SM:"San Marino",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden",CH:"Switzerland",UA:"Ukraine",GB:"United Kingdom",VA:"Vatican city"},s={US:"United States of America"},t={AU:"Australia"},
u,v={c:m,e:s,v:{CA:"Canada"},t:{HK:"Hong Kong",MY:"Malaysia",SG:"Singapore"},F:{NZ:"New Zealand"},d:r,i:t};u=v.c.extend(v.e,v.v,v.t,v.F,v.d,v.i);
var w={m:{s:3,q:10},f:{AF:["Afghanistan",4],GL:["Greenland",4],NO:["Norway",4],DZ:["Algeria",5],GP:["Guadeloupe",5],OM:["Oman",3],AD:["Andorra",5],GT:["Guatemala",5],PK:["Pakistan",5],AR:["Argentina",5],GN:["Guinea",3],PG:["Papua New Guinea",3],AM:["Armenia",4],GW:["Guinea-Bissau",4],PY:["Paraguay",4],HT:["Haiti",4],PE:["Peru",5],AU:["Australia",4],HN:["Honduras",6],PH:["Philippines",4],AT:["Austria",4],HU:["Hungary",4],PN:["Pitcairn",8],AZ:["Azerbaijan",7],IS:["Iceland",3],PL:["Poland",6],BH:["Bahrain",
4],IN:["India",6],PT:["Portugal",8],ID:["Indonesia",5],RO:["Romania",6],BD:["Bangladesh",4],IR:["Iran",6],RU:["Russia",6],BB:["Barbados",7],IQ:["Iraq",5],RE:["Reunion",5],BY:["Belarus",6],IL:["Israel",5],GS:["South Georgia/Sandwich Islands",8],BE:["Belgium",4],IT:["Italy",5],BL:["Saint Barth\u00e9lemy",5],BM:["Bermuda",5],JP:["Japan",8],SH:["Saint Helena",8],BT:["Bhutan",5],JO:["Jordan",5],MF:["Saint Martin (French part)",5],BA:["Bosnia and Herzegovina",5],KZ:["Kazakhstan",6],PM:["Saint Pierre and Miquelon",
5],KE:["Kenya",5],WS:["Samoa",6],BR:["Brazil",9],KR:["South Korea",5],SM:["San Marino",5],SA:["Saudi Arabia",5],BN:["Brunei",6],KW:["Kuwait",5],SN:["Senegal",5],BG:["Bulgaria",4],KG:["Kyrgyzstan",6],RS:["Serbia",6],CV:["Cape Verde",4],LA:["Laos",5],KH:["Cambodia",5],LV:["Latvia",7],SG:["Singapore",6],CA:["Canada",7],LB:["Lebanon",9],SK:["Slovakia",6],KY:["Cayman Islands",8],SI:["Slovenia",4],CL:["Chile",7],LS:["Lesotho",3],ZA:["South Africa",4],CN:["China",6],LI:["Liechtenstein",4],ES:["Spain",5],
CX:["Christmas Island",4],LT:["Lithuania",5],LK:["Sri Lanka",5],LU:["Luxembourg",6],MK:["Macedonia",4],SD:["Sudan",5],CR:["Costa Rica",5],MG:["Madagascar",3],SJ:["Svalbard and Jan Mayen",4],HR:["Croatia",5],MY:["Malaysia",5],SZ:["Swaziland",4],CU:["Cuba",5],MV:["Maldives",5],SE:["Sweden",6],CY:["Cyprus",4],MT:["Malta",8],CH:["Switzerland",4],CZ:["Czech Republic",6],TW:["Taiwan",5],DK:["Denmark",4],TJ:["Tajikistan",6],MQ:["Martinique",5],TZ:["Tanzania",5],DO:["Dominican Republic",5],YT:["Mayotte",
5],TH:["Thailand",5],EC:["Ecuador",6],MX:["Mexico",5],TT:["Trinidad and Tobago",6],EG:["Egypt",5],MD:["Moldova",4],SV:["El Salvador",4],MC:["Monaco",5],TN:["Tunisia",4],EE:["Estonia",5],MN:["Mongolia",5],TR:["Turkey",5],ET:["Ethiopia",4],ME:["Montenegro",5],TM:["Turkmenistan",6],FK:["Falkland Islands",8],MS:["Montserrat",7],FO:["Faroe Islands",3],MA:["Morocco",5],US:["United States (US)",5],FI:["Finland",5],FR:["France",5],MZ:["Mozambique",4],UA:["Ukraine",5],GF:["French Guiana",5],NP:["Nepal",5],
UY:["Uruguay",5],PF:["French Polynesia",5],NL:["Netherlands",7],UZ:["Uzbekistan",6],GE:["Georgia",4],VA:["Vatican",5],DE:["Germany",5],NC:["New Caledonia",5],VE:["Venezuela",6],GI:["Gibraltar",8],NZ:["New Zealand",4],GB:["United Kingdom (UK)",8],NI:["Nicaragua",5],VN:["Vietnam",6],NE:["Niger",4],VG:["British Virgin Islands",6],NG:["Nigeria",6],WF:["Wallis and Futuna",5],GR:["Greece",6],NF:["Norfolk Island",4],AX:["\u00c5land Islands",5]}},x=function(a){return{H:{amex:a.j,visa:a.j,mastercard:a.j,discover:a.c.extend(a.e,
a.d),dinersclub:a.c.extend(a.e,a.d,a.i),jcb:a.c.extend(a.e,a.d),maestro:a.c.extend(a.e,a.d),unionpay:a.d},z:function(a,k){return x.H[a].hasOwnProperty(k)}}}({c:m,j:u,e:s,d:r,i:t}),y=function(a,f){function k(d){var b=has_check_digit,b=f===b?!0:b;compute_check_digit=function(a){return 9*a%10};for(var c=0,e=a.c.G(d).substring(b).split(""),h=0;h<e.length;h+=1)digit=parseInt(e[h]),c=0==h%2?c+(9<(product=2*digit)?product-9:product):c+digit;return c+(b?parseInt(d.substr(-1)):compute_check_digit(c))}return{g:function(d,
b){b=f===b?l:b;var c;c=b;c=f===c?l:c;patterns=a.b.n;if(c)for(var e in patterns)patterns.hasOwnProperty(e)&&(patterns[e]=patterns[e].replace(/\{(\d+)\}/g,"{0,$1}"),patterns[e]=patterns[e].replace(/(\d+)(?=,(\d+)\})/g,"0"));c=patterns;e=d.length;for(var h in c)if(c.hasOwnProperty(h)&&!0===RegExp(c[h]).test(d)&&(b||e==(e&(a.b.l[h]||0))))return h;return l},C:function(d){if(d.length<a.b.r||d.length>a.b.p)return l;cclen=d.length;return l!==(issuer=y.g(d))?(has_check_digit=cclen==((a.b.l[issuer]||0)&cclen),
0==k(d)%10):l},B:function(a){var b=new Date,c=b.getFullYear(),e;e=4==a.length?2:4;return(result=13>(mm=parseInt(a.substr(0,2)))&&0<mm)&&(yy=parseInt(a.substr(e)))>=c%(2==e?1E3:1)?(a=86400*(365*(2E3+yy-1970)+30*(mm+1)),1E3*a>=b):l},A:function(a,b){var c;if(l!==(issuer=y.g(a)))switch(issuer){case "amex":c=4;break;default:c=3}return b.length===c&&!b.match("/[\\D]/")},D:function(d,b){return a.h.f.hasOwnProperty(b)?d.length==a.h.f[b][1]:d.length>=a.h.m.s&&d.length<=a.h.m.q},w:function(d){return a.b.k.hasOwnProperty(d)?
a.b.k[d]:l},I:function(d){for(var b in d)d.hasOwnProperty(b)&&(a.b.n[b]=d[b])}}}({b:{r:12,p:19,k:{unknown:"Unknown",jcb:"JCB",amex:"American Express",visa:"Visa",mastercard:"Mastercard",dinersclub:"Diner's Club",maestro:"Maestro",discover:"Discover",unionpay:"UnionPay"},n:{jcb:"(^(352)[8-9](\\d{11}$|\\d{12}$))|(^(35)[3-8](\\d{12}$|\\d{13}$))",amex:"(^3[47])((\\d{11}$)|(\\d{13}$))",visa:"(^4\\d{12}$)|(^4[0-8]\\d{14}$)|(^(49)[^013]\\d{13}$)|(^(49030)[0-1]\\d{10}$)|(^(49033)[0-4]\\d{10}$)|(^(49110)[^12]\\d{10}$)|(^(49117)[0-3]\\d{10}$)|(^(49118)[^0-2]\\d{10}$)|(^(493)[^6]\\d{12}$)",
mastercard:"^5[1-5]\\d{14}$",dinersclub:"(^(30)[0-5]\\d{11}$)|(^(36)\\d{12}$)|(^(38[0-8])\\d{11}$)",maestro:"(^(5[0678])\\d{11,18}$)|(^(6[^0357])\\d{11,18}$)|(^(601)[^1]\\d{9,16}$)|(^(6011)\\d{9,11}$)|(^(6011)\\d{13,16}$)|(^(65)\\d{11,13}$)|(^(65)\\d{15,18}$)|(^(633)[^34](\\d{9,16}$))|(^(6333)[0-4](\\d{8,10}$))|(^(6333)[0-4](\\d{12}$))|(^(6333)[0-4](\\d{15}$))|(^(6333)[5-9](\\d{8,10}$))|(^(6333)[5-9](\\d{12}$))|(^(6333)[5-9](\\d{15}$))|(^(6334)[0-4](\\d{8,10}$))|(^(6334)[0-4](\\d{12}$))|(^(6334)[0-4](\\d{15}$))|(^(67)[^(59)](\\d{9,16}$))|(^(6759)](\\d{9,11}$))|(^(6759)](\\d{13}$))|(^(6759)](\\d{16}$))|(^(67)[^(67)](\\d{9,16}$))|(^(6767)](\\d{9,11}$))|(^(6767)](\\d{13}$))|(^(6767)](\\d{16}$))",
discover:"(^(6011)\\d{12}$)|(^(65)\\d{14}$)",unionpay:".?"},l:{amex:15,visa:29,mastercard:16,discover:16,dinersclub:14,jcb:16,maestro:31,unionpay:0}},h:w,c:m,a:y});
(function(a){function f(a,c,e){return'<li><span style="color:'+(c?"green":"red")+'">'+a+" has "+(c?"":"NOT")+" "+(e||"a valid pattern")+"</span></li>"}function k(){var b=document.getElementById("cc_result"),c=document.getElementById("cc_number").value,e=document.getElementById("cc_expiry").value.replace(/[^\d]/g,""),d=document.getElementById("ccv_number").value,k=document.getElementById("postal_code").value,n=document.getElementById("country_code").value,g,p;g="";var q;g=a.a.C(c);q=a.a.g(c);k=a.a.D(k,
n);p=g?a.a.w(q):"";q=a.u.z(q,n);b.innerHTML="";l!==g&&(b.innerHTML="<p>The card number matches the <strong>"+p+"</strong> pattern</p>");g=f("card number",g);g+=f("expiry date",a.a.B(e));g+=f("CCV",a.a.A(c,d));g+=f("Postal code length",k);g+=f(a.o.f[n][0],q,"Braintree card support");b.innerHTML+="<ul>"+g+"</ul>"}function d(a){a.preventDefault();a=unescape(document.documentElement.innerHTML);a=a.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/</g,"&lt;").replace(/>/g,"&gt;");window.open("").document.write("<!doctype html><html><head><title>"+
window.location.href+"</title></head><body><pre>"+a+"</pre></body></html>")}(function(){function b(a,b){a.fireEvent?a.fireEvent.call(a,"on"+b):a.dispatchEvent.call(a,new Event(b))}function c(b){b=a.a.g(b.target.value,!0);g.setAttribute("class",b+"-badge")}var e=a.o.f,h=document.getElementById("country_code"),f=document.getElementById("postal_code"),n=document.getElementById("cc_number"),g=document.getElementById("card-badge"),p="";for(ctry_code in e)e.hasOwnProperty(ctry_code)&&(p+='<option value="'+
ctry_code+'">'+e[ctry_code][0]+" ["+e[ctry_code][1]+"]</option>");h&&(h.innerHTML=p);h.addEventListener("change",function(a){a=e[a.target.value][1];f.setAttribute("maxlength",a);f.setAttribute("placeholder","_".repeat(a));f.setAttribute("size",a)});n.addEventListener("keyup",c);n.addEventListener("keydown",c);document.getElementById("view-source").addEventListener("click",d,l);document.getElementById("btn-validate").addEventListener("click",k);b(h,"change");b(n,"keyup")})()})({a:y,u:x,o:w});
